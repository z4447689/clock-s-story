<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简易关键词提取</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        label {
            display: block;
            margin-top: 10px;
        }

        input[type="text"] {
            width: 300px;
            padding: 8px;
            margin-top: 5px;
        }

        textarea {
            width: 300px;
            height: 150px;
            padding: 8px;
            margin-top: 5px;
        }

        button {
            padding: 10px 20px;
            margin-top: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <label for="inputText">输入一段话:</label>
    <textarea id="inputText"></textarea>
    <button onclick="extractKeywords()">提取关键词</button>
    <label for="outputKeywords">关键词:</label>
    <textarea id="outputKeywords" readonly></textarea>

    <script>
        const stopWords = ['the', 'and', 'is', 'of', 'to', 'in', 'for', 'a', 'an', 'it', 'this', 'that', 'with'];

        function preprocessText(text) {
            text = text.toLowerCase();
            text = text.replace(/[^\w\s]/g, '');
            return text;
        }

        function tokenize(text) {
            return text.split(' ');
        }

        function removeStopWords(tokens) {
            return tokens.filter(token =>!stopWords.includes(token));
        }

        function calculateTF(tokens) {
            const tf = {};
            tokens.forEach(token => {
                if (!tf[token]) {
                    tf[token] = 1;
                } else {
                    tf[token]++;
                }
            });
            return tf;
        }

        function extractKeywords() {
            const inputText = document.getElementById('inputText').value;
            const outputKeywords = document.getElementById('outputKeywords');
            if (inputText.trim() === "") {
                outputKeywords.value = "请输入有效文字";
                return;
            }

            const preprocessedText = preprocessText(inputText);
            const tokens = tokenize(preprocessedText);
            const filteredTokens = removeStopWords(tokens);
            const tf = calculateTF(filteredTokens);

            const sortedTF = Object.entries(tf).sort((a, b) => b[1] - a[1]);
            const topKeywords = [];
            for (let i = 0; i < Math.min(5, sortedTF.length); i++) {
                topKeywords.push(sortedTF[i][0]);
            }

            outputKeywords.value = topKeywords.join(', ');
        }
    </script>

</body>

</html>
