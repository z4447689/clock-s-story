<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>关键词捕捉网页</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        label {
            display: block;
            margin-top: 10px;
        }

        input[type="text"] {
            width: 300px;
            padding: 8px;
            margin-top: 5px;
        }

        textarea {
            width: 300px;
            height: 150px;
            padding: 8px;
            margin-top: 5px;
        }

        button {
            padding: 10px 20px;
            margin-top: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <label for="inputText">输入一段文字:</label>
    <input type="text" id="inputText" />
    <button onclick="extractKeywords()">获取关键词</button>
    <label for="outputKeywords">关键词:</label>
    <textarea id="outputKeywords" readonly></textarea>

    <script>
        const stopWords = ['的', '了', '是', '在', '和', '也', '有', '不', '我', '你', '他', '她', '它', '们'];

        function preprocessText(text) {
            // 清理特殊字符和标点符号
            text = text.replace(/<[^>]*>/g, '').replace(/[^\w\s]/g, '');
            // 统一为小写
            text = text.toLowerCase();
            return text;
        }

        function tokenize(text) {
            // 简单分词，这里可以替换为更复杂的分词工具
            return text.split(' ');
        }

        function removeStopWords(tokens) {
            return tokens.filter(token =>!stopWords.includes(token));
        }

        function calculateTF(tokens) {
            const tf = {};
            tokens.forEach(token => {
                if (!tf[token]) {
                    tf[token] = 1;
                } else {
                    tf[token]++;
                }
            });
            return tf;
        }

        function extractKeywords() {
            const inputText = document.getElementById('inputText').value;
            const outputKeywords = document.getElementById('outputKeywords');
            if (inputText.trim() === "") {
                outputKeywords.value = "请输入有效文字";
                return;
            }

            const preprocessedText = preprocessText(inputText);
            const tokens = tokenize(preprocessedText);
            const filteredTokens = removeStopWords(tokens);
            const tf = calculateTF(filteredTokens);

            // 将词频对象转换为数组，并按频率排序
            const tfArray = Object.entries(tf).sort((a, b) => b[1] - a[1]);

            // 提取前几个高频词作为关键词
            const keywords = [];
            for (let i = 0; i < Math.min(5, tfArray.length); i++) {
                keywords.push(tfArray[i][0]);
            }

            outputKeywords.value = keywords.join(', ');
        }
    </script>

</body>

</html>
